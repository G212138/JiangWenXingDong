{"version":3,"sources":["assets\\game\\scripts\\UI\\Item\\Level_2.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { ListenerManager } from \"../../../../frame/scripts/Manager/ListenerManager\";\r\nimport { SoundManager } from \"../../../../frame/scripts/Manager/SoundManager\";\r\nimport { SyncDataManager } from \"../../../../frame/scripts/Manager/SyncDataManager\";\r\nimport { EventType } from \"../../Data/EventType\";\r\nimport { EditorManager } from \"../../Manager/EditorManager\";\r\nimport FillArea from \"./FillArea\";\r\nimport OptionItem from \"./OptionItem\";\r\nimport { SoundConfig } from \"./SoundConfig\";\r\n\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class Level_2 extends cc.Component {\r\n\r\n    @property(cc.Node)\r\n    private redLine: cc.Node = null;\r\n    @property(cc.Node)\r\n    private numNode: cc.Node = null;\r\n    @property(cc.Node)\r\n    private optionsNode: cc.Node = null;\r\n    @property(cc.Node)\r\n    private btn_change: cc.Node = null;\r\n    @property(cc.Node)\r\n    private diyidui: cc.Node = null;\r\n    @property(cc.Node)\r\n    private dierdui: cc.Node = null;\r\n    @property(cc.Node)\r\n    private highlight: cc.Node = null;\r\n\r\n    onLoad() {\r\n        ListenerManager.on(EventType.ENTER_GAME, this.init, this);\r\n        ListenerManager.on(EventType.DRAG_OPTION_END, this.syncOptions, this);\r\n    }\r\n    onDestroy() {\r\n        ListenerManager.off(EventType.ENTER_GAME, this.init, this);\r\n        ListenerManager.off(EventType.DRAG_OPTION_END, this.syncOptions, this);\r\n    }\r\n\r\n    public init() {\r\n        this.numNode.active = EditorManager.editorData.gameMode == 0; //演示模式\r\n        this.btn_change.active = EditorManager.editorData.gameMode == 0; //演示模式\r\n        if (EditorManager.editorData.gameMode == 0) {\r\n            this.optionsNode.x = -520;\r\n        } else {\r\n            this.optionsNode.x = 0;\r\n        }\r\n        this.handleShowCircle();\r\n        this.handleShowRedLine();\r\n        this.handleShowNum();\r\n        this.resetOptions();\r\n    }\r\n\r\n    private resetOptions() {\r\n        let fillAreaOptions = SyncDataManager.getSyncData().customSyncData.fillAreaOptions;\r\n        for (let i = 0; i < this.diyidui.childrenCount; i++) {\r\n            let option = this.diyidui.children[i];            \r\n            option.getComponent(OptionItem).reset();\r\n            i = i - 1;           \r\n        }\r\n        \r\n        for (let j = 0; j < fillAreaOptions.length; j++) {\r\n            let option = this.optionsNode.getChildByName(fillAreaOptions[j]);\r\n            if (option) {\r\n                this.diyidui.getComponent(FillArea).fill(option);\r\n            }            \r\n        }\r\n    }\r\n\r\n    private syncOptions() {\r\n        SyncDataManager.getSyncData().customSyncData.fillAreaOptions = [];\r\n        for (let i = 0; i < this.diyidui.childrenCount; i++) {\r\n            SyncDataManager.getSyncData().customSyncData.fillAreaOptions.push(this.diyidui.children[i].name);\r\n        }\r\n    }\r\n\r\n    private handleShowCircle() {\r\n        let isShowCircle = SyncDataManager.getSyncData().customSyncData.isShowCircle;\r\n        for (let i = 0; i < this.optionsNode.childrenCount; i++) {\r\n            this.optionsNode.children[i].getChildByName(\"circle\").active = isShowCircle;\r\n            this.optionsNode.children[i].getChildByName(\"icon\").active = !isShowCircle;\r\n        }\r\n        for (let i = 0; i < this.diyidui.childrenCount; i++) {\r\n            this.diyidui.children[i].getChildByName(\"circle\").active = isShowCircle;\r\n            this.diyidui.children[i].getChildByName(\"icon\").active = !isShowCircle;\r\n        }\r\n        for (let i = 0; i < this.dierdui.childrenCount; i++) {\r\n            this.dierdui.children[i].getChildByName(\"circle\").active = isShowCircle;\r\n            this.dierdui.children[i].getChildByName(\"icon\").active = !isShowCircle;\r\n        }\r\n    }\r\n\r\n    private onClickShowRedLine() {\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);\r\n        let isShow = SyncDataManager.getSyncData().customSyncData.isShowLine;\r\n        SyncDataManager.getSyncData().customSyncData.isShowLine = !isShow;\r\n        this.handleShowRedLine();\r\n    }\r\n\r\n    private handleShowRedLine() {\r\n        this.redLine.active = SyncDataManager.getSyncData().customSyncData.isShowLine;\r\n    }\r\n\r\n    private onClickNum() {\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);\r\n        let showNumCount = SyncDataManager.getSyncData().customSyncData.showNumCount;\r\n        showNumCount++;\r\n        if (showNumCount > 5) {\r\n            showNumCount = 0;\r\n        }\r\n        SyncDataManager.getSyncData().customSyncData.showNumCount = showNumCount;\r\n        this.handleShowNum();\r\n    }\r\n\r\n    private handleShowNum() {\r\n        let showNumCount = SyncDataManager.getSyncData().customSyncData.showNumCount;\r\n        this.numNode.children.forEach((node, index) => {\r\n            node.active = index < showNumCount;\r\n        });\r\n    }\r\n\r\n    private onClickChange() {\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);\r\n        let isShowCircle = SyncDataManager.getSyncData().customSyncData.isShowCircle;\r\n        SyncDataManager.getSyncData().customSyncData.isShowCircle = !isShowCircle;\r\n        this.handleShowCircle();\r\n    }\r\n\r\n    private onClickCheck() {\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"点击音效\"], false, false, false);\r\n        if (this.isCheckEnd) return;\r\n        if (this.diyidui.childrenCount == 10) {\r\n            this.handleTrue();\r\n        } else {\r\n            this.handleWrong();\r\n        }\r\n    }\r\n\r\n    private isCheckEnd = false;\r\n    private handleTrue() {\r\n        this.isCheckEnd = true;\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"正确音效\"], false, false, false);\r\n        ListenerManager.dispatch(EventType.SUBMIT, true); \r\n        // this.highlight.active = true;\r\n        // this.highlight.color = cc.Color.GREEN;\r\n        // cc.tween(this.highlight).to(0.1, { opacity: 255 }).delay(0.3).to(0.1, {opacity: 0 })\r\n        // .to(0.1, { opacity: 255 }).delay(0.3).to(0.1, {opacity: 0 })\r\n        // .to(0.1, { opacity: 255 }).delay(0.3).to(0.1, {opacity: 0 })\r\n        // .call(() => {\r\n        //     this.highlight.active = false;\r\n            if (EditorManager.editorData.gameMode == 1) {\r\n                ListenerManager.dispatch(EventType.GAME_OVER);\r\n            } \r\n        // })\r\n        // .start();                      \r\n    }\r\n\r\n    private handleWrong() {\r\n        SoundManager.playEffect(SoundConfig.soudlist[\"错误音效\"], false, false, false);\r\n        ListenerManager.dispatch(EventType.SUBMIT, false);\r\n        // this.highlight.active = true;\r\n        // this.highlight.color = cc.Color.RED;\r\n        // cc.tween(this.highlight).to(0.1, { opacity: 255 }).delay(0.3).to(0.1, {opacity: 0 })\r\n        // .to(0.1, { opacity: 255 }).delay(0.3).to(0.1, {opacity: 0 })\r\n        // .to(0.1, { opacity: 255 }).delay(0.3).to(0.1, {opacity: 0 })\r\n        // .call(() => {\r\n        //     this.highlight.active = false;\r\n        // })\r\n        // .start();\r\n    }\r\n    \r\n}\r\n"]}